<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	page-break-after:avoid;
	border:none;
	padding:0in;
	font-size:36.0pt;
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Franklin Gothic Demi","sans-serif";
	font-variant:small-caps;
	color:black;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.Definition
	{mso-style-name:Definition;
	font-family:"Calibri","sans-serif";
	font-weight:bold;}
span.URL
	{mso-style-name:URL;
	color:windowtext;
	text-decoration:underline;}
p.SourceCodeExcerpt, li.SourceCodeExcerpt, div.SourceCodeExcerpt
	{mso-style-name:"Source Code Excerpt";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeExcerptCxSpFirst, li.SourceCodeExcerptCxSpFirst, div.SourceCodeExcerptCxSpFirst
	{mso-style-name:"Source Code ExcerptCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeExcerptCxSpMiddle, li.SourceCodeExcerptCxSpMiddle, div.SourceCodeExcerptCxSpMiddle
	{mso-style-name:"Source Code ExcerptCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeExcerptCxSpLast, li.SourceCodeExcerptCxSpLast, div.SourceCodeExcerptCxSpLast
	{mso-style-name:"Source Code ExcerptCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SourceCodeFeatured, li.SourceCodeFeatured, div.SourceCodeFeatured
	{mso-style-name:"Source Code \(Featured\)";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeFeaturedCxSpFirst, li.SourceCodeFeaturedCxSpFirst, div.SourceCodeFeaturedCxSpFirst
	{mso-style-name:"Source Code \(Featured\)CxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeFeaturedCxSpMiddle, li.SourceCodeFeaturedCxSpMiddle, div.SourceCodeFeaturedCxSpMiddle
	{mso-style-name:"Source Code \(Featured\)CxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeFeaturedCxSpLast, li.SourceCodeFeaturedCxSpLast, div.SourceCodeFeaturedCxSpLast
	{mso-style-name:"Source Code \(Featured\)CxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SampleRun, li.SampleRun, div.SampleRun
	{mso-style-name:"Sample Run";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpFirst, li.SampleRunCxSpFirst, div.SampleRunCxSpFirst
	{mso-style-name:"Sample RunCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpMiddle, li.SampleRunCxSpMiddle, div.SampleRunCxSpMiddle
	{mso-style-name:"Sample RunCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
p.SampleRunCxSpLast, li.SampleRunCxSpLast, div.SampleRunCxSpLast
	{mso-style-name:"Sample RunCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:9.0pt;
	font-family:"Lucida Sans Typewriter";}
span.SourceLineNumber
	{mso-style-name:"Source Line Number";
	color:gray;}
p.TopicsCoveredbox, li.TopicsCoveredbox, div.TopicsCoveredbox
	{mso-style-name:"Topics Covered box";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpFirst, li.TopicsCoveredboxCxSpFirst, div.TopicsCoveredboxCxSpFirst
	{mso-style-name:"Topics Covered boxCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpMiddle, li.TopicsCoveredboxCxSpMiddle, div.TopicsCoveredboxCxSpMiddle
	{mso-style-name:"Topics Covered boxCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
p.TopicsCoveredboxCxSpLast, li.TopicsCoveredboxCxSpLast, div.TopicsCoveredboxCxSpLast
	{mso-style-name:"Topics Covered boxCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Times New Roman","serif";}
span.Literal
	{mso-style-name:Literal;
	font-family:Courier;}
span.SourceCodeComment
	{mso-style-name:"Source Code Comment";
	color:#7F7F7F;}
p.FigureCaption, li.FigureCaption, div.FigureCaption
	{mso-style-name:"Figure Caption";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.FigureCaptionCxSpFirst, li.FigureCaptionCxSpFirst, div.FigureCaptionCxSpFirst
	{mso-style-name:"Figure CaptionCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.FigureCaptionCxSpMiddle, li.FigureCaptionCxSpMiddle, div.FigureCaptionCxSpMiddle
	{mso-style-name:"Figure CaptionCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.FigureCaptionCxSpLast, li.FigureCaptionCxSpLast, div.FigureCaptionCxSpLast
	{mso-style-name:"Figure CaptionCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	text-align:center;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.SourceCodeFilename
	{mso-style-name:"Source Code Filename";
	font-family:"Lucida Sans Typewriter";}
span.Filename
	{mso-style-name:Filename;
	font-style:italic;}
p.ChapterQuotes, li.ChapterQuotes, div.ChapterQuotes
	{mso-style-name:"Chapter Quotes";
	margin-top:30.0pt;
	margin-right:1.0in;
	margin-bottom:30.0pt;
	margin-left:1.0in;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterQuotesCxSpFirst, li.ChapterQuotesCxSpFirst, div.ChapterQuotesCxSpFirst
	{mso-style-name:"Chapter QuotesCxSpFirst";
	margin-top:30.0pt;
	margin-right:1.0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterQuotesCxSpMiddle, li.ChapterQuotesCxSpMiddle, div.ChapterQuotesCxSpMiddle
	{mso-style-name:"Chapter QuotesCxSpMiddle";
	margin-top:0in;
	margin-right:1.0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.ChapterQuotesCxSpLast, li.ChapterQuotesCxSpLast, div.ChapterQuotesCxSpLast
	{mso-style-name:"Chapter QuotesCxSpLast";
	margin-top:0in;
	margin-right:1.0in;
	margin-bottom:30.0pt;
	margin-left:1.0in;
	text-align:justify;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
p.CodeExample, li.CodeExample, div.CodeExample
	{mso-style-name:"Code Example";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.CodeExampleCxSpFirst, li.CodeExampleCxSpFirst, div.CodeExampleCxSpFirst
	{mso-style-name:"Code ExampleCxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.CodeExampleCxSpMiddle, li.CodeExampleCxSpMiddle, div.CodeExampleCxSpMiddle
	{mso-style-name:"Code ExampleCxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.CodeExampleCxSpLast, li.CodeExampleCxSpLast, div.CodeExampleCxSpLast
	{mso-style-name:"Code ExampleCxSpLast";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.SourceCodeHeadline, li.SourceCodeHeadline, div.SourceCodeHeadline
	{mso-style-name:"Source Code \(Headline\)";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeHeadlineCxSpFirst, li.SourceCodeHeadlineCxSpFirst, div.SourceCodeHeadlineCxSpFirst
	{mso-style-name:"Source Code \(Headline\)CxSpFirst";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeHeadlineCxSpMiddle, li.SourceCodeHeadlineCxSpMiddle, div.SourceCodeHeadlineCxSpMiddle
	{mso-style-name:"Source Code \(Headline\)CxSpMiddle";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
p.SourceCodeHeadlineCxSpLast, li.SourceCodeHeadlineCxSpLast, div.SourceCodeHeadlineCxSpLast
	{mso-style-name:"Source Code \(Headline\)CxSpLast";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:115%;
	border:none;
	padding:0in;
	font-size:7.0pt;
	font-family:"Lucida Sans Typewriter";
	color:black;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US>
<div style='float: right; height: 310px; font-family: sans-serif;'>Ad: Programming books by Al Sweigart<br />
    <a href='http://www.nostarch.com/automatestuff' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_automate.link');"><img src='/images/cover_automate_thumb.png' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/gp/product/0982106017?ie=UTF8&tag=playwithpyth-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0982106017' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_invent.link');"><img src='/images/cover_inventwithpython_thumb.jpg' style="height: 200px; border: solid black 1px;" /></a>
    <a href='http://www.amazon.com/Making-Games-Python-Pygame-Sweigart/dp/1469901730?ie=UTF8&tag=playwithpyth-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0982106017' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_pygame.link');"><img src='/images/cover_makinggames_thumb.png' style="height: 200px; border: solid black 1px;" /></a>
    <a href='https://www.amazon.com/gp/product/1593278225/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1593278225&linkCode=as2&tag=playwithpyth-20&linkId=bf3b22819f0886d277e88b8a653b81ad' onclick="javascript: pageTracker._trackPageview('/affiliate_chapters_hacking.link');"><img src='/images/cover_crackingcodes_thumb.png' style="height: 200px; border: solid black 1px;" /></a>
</div>

<div class=WordSection1><p><strong>Note: The second edition of this book is available under the title <em><a href="https://inventwithpython.com/cracking">Cracking Codes with Python</a></em></strong></p>

<p class=MsoNormal align=center style='text-align:center'><img width=327
height=180 id="Picture 124" src="chapter10_files/image001.jpg"></p>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0in 0in 1.0pt 0in'>

<h1><a name="_Toc353630724"><span style='font-variant:normal !important;
text-transform:uppercase'>Programming a Program to Test Our Program</span></a></h1>

</div>

<div style='border:solid windowtext 1.0pt;padding:4.0pt 4.0pt 4.0pt 4.0pt;
background:#DBE5F1'>

<p class=TopicsCoveredboxCxSpFirst style='background:#DBE5F1;border:none;
padding:0in'>Topics Covered In This Chapter:</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>random.seed()</span> function</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>random.randint()</span> function</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>List references</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>copy.deepcopy()</span> Functions</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>random.shuffle()</span> function</p>

<p class=TopicsCoveredboxCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Randomly scrambling a string</p>

<p class=TopicsCoveredboxCxSpLast style='margin-left:.25in;text-indent:-.25in;
background:#DBE5F1;border:none;padding:0in'><span style='font-family:Symbol'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The <span class=Literal>sys.exit()</span> function</p>

</div>

<p class=ChapterQuotesCxSpFirst>“It is poor civic hygiene to install
technologies that could someday facilitate a police state.”</p>

<p class=ChapterQuotesCxSpMiddle>&nbsp;</p>

<p class=ChapterQuotesCxSpLast align=right style='text-align:right'><span
style='font-size:11.0pt;line-height:115%'>Bruce Schneier, cryptographer</span></p>

<p class=MsoNormal>We can try out the transposition encryption and decryption
programs from the previous chapter by encrypting and decrypting a few messages
with different keys. It seems to work pretty well. But does it <em>always</em>
work?</p>

<p class=MsoNormal>You won’t know unless you test the <span class=Literal>encryptMessage()</span>
and <span class=Literal>decryptMessage()</span> functions with different values
for the <span class=Literal>message</span> and <span class=Literal>key</span>
parameters. This would take a lot of time. You’ll have to type out a message in
the encryption program, set the key, run the encryption program, paste the
ciphertext into the decryption program, set the key, and then run the
decryption program. And you’ll want to repeat that with several different keys
and messages!</p>

<p class=MsoNormal>That’s a lot of boring work. Instead we can write a program
to test the cipher programs for us. This new program can generate a random
message and a random key. It will then encrypt the message with the <span
class=Literal>encryptMessage()</span> function from <span class=Filename>transpositionEncrypt.py</span>
and then pass the ciphertext from that to the <span class=Literal>decryptMessage()</span>
in <span class=Filename>transpositionDecrypt.py</span>. If the plaintext
returned by <span class=Literal>decryptMessage()</span> is the same as the
original message, the program can know that the encryption and decryption
messages work. This is called <span class=Definition><span style='font-size:
12.0pt;line-height:115%'>automated testing</span></span>.</p>

<p class=MsoNormal>There are several different message and key combinations to
try, but it will only take the computer a minute or so to test thousands
different combinations. If all of those tests pass, then we can be much more
certain that our code works.</p>

<h2><a name="_Toc353630725">Source Code of the Transposition Cipher Tester
Program</a></h2>

<p class=MsoNormal>Open a new file editor window by clicking on <strong>File</strong>
&#9658; <strong>New Window</strong>. Type in the following code into the file
editor, and then save it as <span class=Filename>transpositionTest.py</span>.
Press <strong>F5</strong> to run the program. Note that first you will need to
download the <span class=Filename>pyperclip.py</span> module and place this
file in the same directory as the <span class=Filename>transpositionTest.py</span>
file. You can download this file from <span class=URL><u>http://invpy.com/pyperclip.py</u></span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeFeaturedCxSpFirst align=right style='text-align:right'><span
class=SourceCodeFilename><span style='font-size:13.0pt;line-height:115%'>Source
code for transpositionTest.py</span></span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 1.</span> <span
class=SourceCodeComment># Transposition Cipher Test</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 2.</span> <span
class=SourceCodeComment># http://inventwithpython.com/hacking (BSD Licensed)</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 3. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 4.</span>
import random, sys, transpositionEncrypt, transpositionDecrypt</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 5. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 6.</span>
def main():</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 7.</span>    
random.seed(42) <span class=SourceCodeComment># set the random &quot;seed&quot;
to a static value</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 8. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 9.</span>    
for i in range(20): <span class=SourceCodeComment># run 20 tests</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>10.</span>        
<span class=SourceCodeComment># Generate random messages to test.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>11. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>12.</span>        
<span class=SourceCodeComment># The message will have a random length:</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>13.</span>        
message = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' * random.randint(4, 40)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>14. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>15.</span>        
<span class=SourceCodeComment># Convert the message string to a list to shuffle
it.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>16.</span>        
message = list(message)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>17.</span>        
random.shuffle(message)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>18.</span>        
message = ''.join(message) <span class=SourceCodeComment># convert list to
string</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>19. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>20.</span>        
print('Test #%s: &quot;%s...&quot;' % (i+1, message[:50]))</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>21. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>22.</span>        
<span class=SourceCodeComment># Check all possible keys for each message.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>23.</span>        
for key in range(1, len(message)):</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>24.</span>            
encrypted = transpositionEncrypt.encryptMessage(key, message)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>25.</span>            
decrypted = transpositionDecrypt.decryptMessage(key, encrypted)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>26. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>27.</span>            
<span class=SourceCodeComment># If the decryption doesn't match the original
message, display</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>28.</span>            
<span class=SourceCodeComment># an error message and quit.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>29.</span>            
if message != decrypted:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>30.</span>                
print('Mismatch with key %s and message %s.' % (key, message))</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>31.</span>                
print(decrypted)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>32.</span>                
sys.exit()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>33. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>34.</span>    
print('Transposition cipher test passed.')</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>35. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>36. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>37.</span> <span
class=SourceCodeComment># If transpositionTest.py is run (instead of imported
as a module) call</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>38.</span> <span
class=SourceCodeComment># the main() function.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>39.</span>
if __name__ == '__main__':</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>40.</span>    
main()</p>

</div>

<h2><a name="_Toc353630726">Sample Run of the Transposition Cipher Tester
Program</a></h2>

<p class=MsoNormal>When you run this program, the output will look like this:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SampleRunCxSpFirst>Test #1:
&quot;KQDXSFQDBPMMRGXFKCGIQUGWFFLAJIJKFJGSYOSAWGYBGUNTQX...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #2:
&quot;IDDXEEWUMWUJPJSZFJSGAOMFIOWWEYANRXISCJKXZRHMRNCFYW...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #3:
&quot;DKAYRSAGSGCSIQWKGARQHAOZDLGKJISQVMDFGYXKCRMPCMQWJM...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #4:
&quot;MZIBCOEXGRDTFXZKVNFQWQMWIROJAOKTWISTDWAHZRVIGXOLZA...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #5:
&quot;TINIECNCBFKJBRDIUTNGDINHULYSVTGHBAWDQMZCNHZOTNYHSX...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #6:
&quot;JZQIHCVNDWRDUFHZFXCIASYDSTGQATQOYLIHUFPKEXSOZXQGPP...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #7:
&quot;BMKJUERFNGIDGWAPQMDZNHOQPLEOQDYCIIWRKPVEIPLAGZCJVN...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #8:
&quot;IPASTGZSLPYCORCVEKWHOLOVUFPOMGQWZVJNYQIYVEOFLUWLMQ...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #9:
&quot;AHRYJAPTACZQNNFOTONMIPYECOORDGEYESYFHROZDASFIPKSOP...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #10:
&quot;FSXAAPLSQHSFUPQZGTIXXDLDMOIVMWFGHPBPJROOSEGPEVRXSX...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #11:
&quot;IVBCXBIHLWPTDHGEGANBGXWQZMVXQPNJZQPKMRUMPLLXPAFITN...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #12:
&quot;LLNSYMNRXZVYNPRTVNIBFRSUGIWUJREMPZVCMJATMLAMCEEHNW...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #13:
&quot;IMWRUJJHRWAABHYIHGNPSJUOVKRRKBSJKDHOBDLOUJDGXIVDME...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #14:
&quot;IZVXWHTIGKGHKJGGWMOBAKTWZWJPHGNEQPINYZIBERJPUNWJMX...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #15:
&quot;BQGFNMGQCIBOTRHZZOBHZFJZVSRTVHIUJFOWRFBNWKRNHGOHEQ...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #16:
&quot;LNKGKSYIPHMCDVKDLNDVFCIFGEWQGUJYJICUYIVXARMUCBNUWM...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #17:
&quot;WGNRHKIQZMOPBQTCRYPSEPWHLRDXZMJOUTJCLECKEZZRRMQRNI...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #18:
&quot;PPVTELDHJRZFPBNMJRLAZWRXRQVKHUUMRPNFKXJCUKFOXAGEHM...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #19:
&quot;UXUIGAYKGLYUQTFBWQUTFNSOPEGMIWMQYEZAVCALGOHUXJZPTY...&quot;</p>

<p class=SampleRunCxSpMiddle>Test #20: &quot;JSYTDGLVLBCVVSITPTQPHBCYIZHKFOFMBWOZNFKCADHDKPJSJA...&quot;</p>

<p class=SampleRunCxSpLast>Transposition cipher test passed.</p>

</div>

<p class=MsoNormal>Our testing program works by importing the <span
class=Filename>transpositionEncrypt.py</span> and <span class=Filename>transpositionDecrypt.py</span>
programs as modules. This way, we can call the <span class=Literal>encryptMessage()</span>
and <span class=Literal>decryptMessage()</span> functions in these programs.
Our testing program will create a random message and choose a random key. It
doesn’t matter that the message is just random letters, we just need to check that
encrypting and then decrypting the message will result in the original message.</p>

<p class=MsoNormal>Our program will repeat this test twenty times by putting
this code in a loop. If at any point the returned string from <span
class=Literal>transpositionDecrypt()</span> is not the exact same as the
original message, our program will print an error message and exit.</p>

<h2><a name="_Toc353630727">How the Program Works</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment> 1.</span> <span
class=SourceCodeComment># Transposition Cipher Test</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 2.</span> <span
class=SourceCodeComment># http://inventwithpython.com/hacking (BSD Licensed)</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 3. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 4.</span>
import random, sys, transpositionEncrypt, transpositionDecrypt</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment> 5. </span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment> 6.</span>
def main():</p>

</div>

<p class=MsoNormal>First our program imports two modules that come with Python,
<span class=Literal>random</span> and <span class=Literal>sys</span>. We also
want to import the transposition cipher programs we’ve written: <span
class=Filename>transpositionEncrypt.py</span> and <span class=Filename>transpositionDecrypt.py</span>.
Note that we don’t put the .py extension in our <span class=Literal>import</span>
statement.</p>

<h2><a name="_Toc353630728">Pseudorandom Numbers and the </a><span
class=Literal>random.seed()</span> Function</h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeatured><span class=SourceCodeComment> 7.</span>    
random.seed(42) <span class=SourceCodeComment># set the random &quot;seed&quot;
to a static value</span></p>

</div>

<p class=MsoNormal>Technically, the numbers produced by Python’s <span
class=Literal>random.randint()</span> function are not really random. They are
produced from a pseudorandom number generator algorithm, and this algorithm is
well known and the numbers it produces are predictable. We call these random<em>-looking</em>
(but predictable) numbers <span class=Definition><span style='font-size:12.0pt;
line-height:115%'>pseudorandom numbers</span></span> because they are not truly
random.</p>

<p class=MsoNormal>The pseudorandom number generator algorithm starts with an
initial number called the <span class=Definition><span style='font-size:12.0pt;
line-height:115%'>seed</span></span>. All of the random numbers produced from a
seed are predictable. You can reset Python’s random seed by calling the <span
class=Literal>random.seed()</span> function. Type the following into the
interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
import random</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.seed(42)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
for i in range(5):</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...  
print(random.randint(1, 10))</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>7</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>1</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>3</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>3</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>8</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.seed(42)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
for i in range(5):</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...  
print(random.randint(1, 10))</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>...</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>7</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>1</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>3</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>3</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>8</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>When the seed for Python’s pseudorandom number generator is
set to <span class=Literal>42</span>, the first “random” number between <span
class=Literal>1</span> and <span class=Literal>10</span> will <strong>always</strong>
be <span class=Literal>7</span>. The second “random” number will <strong>always</strong>
be <span class=Literal>1</span>, and the third number will <strong>always</strong>
be <span class=Literal>3</span>, and so on. When we reset the seed back to 42
again, the same set of pseudorandom numbers will be returned from <span
class=Literal>random.randint()</span>.</p>

<p class=MsoNormal>Setting the random seed by calling <span class=Literal>random.seed()</span>
will be useful for our testing program, because we want predictable numbers so
that the same pseudorandom messages and keys are chosen each time we run the
automated testing program. Our Python programs only seem to generate “unpredictable”
random numbers because the seed is set to the computer’s current clock time
(specifically, the number of seconds since January 1<sup>st</sup>, 1970) when
the <span class=Literal>random</span> module is first imported.</p>

<p class=MsoNormal>It is important to note that not using truly random numbers
is a common security flaw of encryption software. If the “random” numbers in
your programs can be predicted, then this can provide a cryptanalyst with a
useful hint to breaking your cipher. More information about generating truly
random numbers with Python using the <span class=Literal>os.urandom()</span>
function can be found at <span class=URL><u>http://invpy.com/random</u></span>.</p>

<h2><a name="_Toc353630729">The </a><span class=Literal>random.randint()</span>
Function</h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline><span class=SourceLineNumber>transpositionTest.py </span></p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment> 9.</span>    
for i in range(20): <span class=SourceCodeComment># run 20 tests</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>10.</span>        
<span class=SourceCodeComment># Generate random messages to test.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>11. </span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>12.</span>        
<span class=SourceCodeComment># The message will have a random length:</span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>13.</span>        
message = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' * random.randint(4, 40)</p>

</div>

<p class=MsoNormal>The code that does a single test will be in this <span
class=Literal>for</span> loop’s block. We want this program to run multiple
tests since the more tests we try, the more certain that we know our programs
work.</p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;text-autospace:none'><span style='font-size:11.5pt'>Line 13 creates a
random message from the uppercase letters and stores it in the </span><span
class=Literal>message</span></p>

<p class=MsoNormal><span style='font-size:11.5pt;line-height:115%'>variable.
Line 13 uses string replication to create messages of different lengths. </span>The
<span class=Literal>random.randint()</span> function takes two integer
arguments and returns a random integer between those two integers (including
the integers themselves). Type the following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
import random</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.randint(1, 20)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>20</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.randint(1, 20)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>18</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.randint(1, 20)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>3</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.randint(1, 20)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>18</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.randint(100, 200)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>107</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>Of course, since these are pseudorandom numbers, the numbers
you get will probably be different than the ones above. Line 13 creates a
random message from the uppercase letters and stores it in the <span
class=Literal>message</span> variable. Line 13 uses string replication to
create messages of different lengths.</p>

<h2><a name="_Toc353630730"></a><a name="_Toc316764320">References</a></h2>

<p class=MsoNormal>Technically, variables do not store list values in them.
Instead, they store reference values to list values. Up until now the
difference hasn’t been important. But storing list references instead of lists
becomes important if you copy a variable with a list reference to another
variable. Try entering the following into the shell:</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=CodeExampleCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt; spam
= 42</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese = spam</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam = 100</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>100</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>42</p>

<p class=CodeExampleCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>This makes sense from what we know so far. We assign <span
class=Literal>42</span> to the <span class=Literal>spam</span> variable, and
then we copy the value in <span class=Literal>spam</span> and assign it to the
variable <span class=Literal>cheese.</span> When we later change the value in <span
class=Literal>spam</span> to <span class=Literal>100</span>, this doesn’t
affect the value in <span class=Literal>cheese</span>. This is because <span
class=Literal>spam</span> and <span class=Literal>cheese</span> are different
variables that each store their own values.</p>

<p class=MsoNormal>But lists don’t work this way. When you assign a list to a
variable with the <span class=Literal>=</span> sign, you are actually assigning
a list reference to the variable. A <span class=Definition><span
style='font-size:12.0pt;line-height:115%'>reference</span></span> is a value
that points to some bit of data, and a <span class=Definition><span
style='font-size:12.0pt;line-height:115%'>list reference</span></span> is a
value that points to a list. Here is some code that will make this easier to
understand. Type this into the shell:</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=CodeExampleCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt; spam
= [0, 1, 2, 3, 4, 5]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese = spam</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese[1] = 'Hello!'</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>[0, 'Hello!', 2,
3, 4, 5]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese</p>

<p class=CodeExampleCxSpLast style='border:none;padding:0in'>[0, 'Hello!', 2,
3, 4, 5]</p>

</div>

<p class=MsoNormal>This looks odd. The code only changed the <span
class=Literal>cheese</span> list, but it seems that both the <span
class=Literal>cheese</span> and <span class=Literal>spam</span> lists have
changed.</p>

<p class=MsoNormal>Notice that the line <span class=Literal>cheese = spam</span>
copies the list <em>reference</em> in <span class=Literal>spam</span> to <span
class=Literal>cheese</span>, instead of copying the list value itself. This is
because the value stored in the <span class=Literal>spam</span> variable is a
list reference, and not the list value itself. This means that the values
stored in both <span class=Literal>spam</span> and <span class=Literal>cheese</span>
refer to the same list. There is only one list because the list was not copied,
the reference to the list was copied. So when you modify <span class=Literal>cheese</span>
in the <span class=Literal>cheese[1] = 'Hello!'</span> line, you are modifying
the same list that <span class=Literal>spam</span> refers to. This is why <span
class=Literal>spam</span> seems to have the same list value that <span
class=Literal>cheese</span> does.</p>

<p class=MsoNormal>Remember that variables are like boxes that contain values.
List variables don’t actually contain lists at all, they contain references to
lists. Here are some pictures that explain what happens in the code you just
typed in:</p>

<p class=MsoNormal align=center style='text-align:center'><img width=376
height=256 id="Picture 13" src="chapter10_files/image002.jpg"
alt="Description: C:\book1svn\4thed\images\10-5.png"></p>

<p class=FigureCaption>Figure 10-1. Variables do not store lists, but rather
references to lists.</p>

<p class=MsoNormal>On the first line, the actual list is not contained in the <span
class=Literal>spam</span> variable but a reference to the list. The list itself
is not stored in any variable.</p>

<p class=MsoNormal align=center style='text-align:center'><img width=342
height=293 id="Picture 26" src="chapter10_files/image003.jpg"
alt="Description: C:\book1svn\4thed\images\10-6.png"></p>

<p class=FigureCaption>Figure 10-2. Two variables store two references to the
same list.</p>

<p class=MsoNormal>When you assign the reference in <span class=Literal>spam</span>
to <span class=Literal>cheese</span>, the <span class=Literal>cheese</span>
variable contains a copy of the reference in <span class=Literal>spam</span>.
Now both <span class=Literal>cheese</span> and <span class=Literal>spam</span>
refer to the same list.</p>

<p class=MsoNormal align=center style='text-align:center'><img width=394
height=314 id="Picture 40" src="chapter10_files/image004.jpg"
alt="Description: C:\book1svn\4thed\images\10-7.png"></p>

<p class=FigureCaption>Figure 10-3. Changing the list changes all variables
with references to that list.</p>

<p class=MsoNormal>When you alter the list that <span class=Literal>cheese</span>
refers to, the list that <span class=Literal>spam</span> refers to is also
changed because they refer to the same list. If you want <span class=Literal>spam</span>
and <span class=Literal>cheese</span> to store two different lists, you have to
create two different lists instead of copying a reference:</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=CodeExampleCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt; spam
= [0, 1, 2, 3, 4, 5]</p>

<p class=CodeExampleCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;
cheese = [0, 1, 2, 3, 4, 5]</p>

</div>

<p class=MsoNormal>In the above example, <span class=Literal>spam</span> and <span
class=Literal>cheese</span> have two different lists stored in them (even
though these lists are identical in content). Now if you modify one of the
lists, it will not affect the other because <span class=Literal>spam</span> and
<span class=Literal>cheese</span> have references to two different lists:</p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=CodeExampleCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt; spam
= [0, 1, 2, 3, 4, 5]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese = [0, 1, 2, 3, 4, 5]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese[1] = 'Hello!'</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>[0, 1, 2, 3, 4,
5]</p>

<p class=CodeExampleCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese</p>

<p class=CodeExampleCxSpLast style='border:none;padding:0in'>[0, 'Hello!', 2,
3, 4, 5]</p>

</div>

<p class=MsoNormal>Figure 10-4 shows how the two references point to two
different lists:</p>

<p class=MsoNormal align=center style='text-align:center'><img width=549
height=301 id="Picture 59" src="chapter10_files/image005.png"
alt="Description: C:\book1svn\4thed\images\10-8.png"></p>

<p class=FigureCaption>Figure 10-4. Two variables each storing references to
two different lists.</p>

<h2><a name="_Toc353630731">The </a><span class=Literal>copy.deepcopy()</span>
Functions</h2>

<p class=MsoNormal>As we saw in the previous example, the following code only
copies the reference value, not the list value itself:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = [0, 1, 2, 3, 4, 5]</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;
cheese = spam    <span class=SourceCodeComment># copies the reference, not the
list</span></p>

</div>

<p class=MsoNormal>If we want to copy the list value itself, we can import the <span
class=Literal>copy</span> module to call the <span class=Literal>copy.deepcopy()</span>
function, which will return a separate copy of the list it is passed:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
spam = [0, 1, 2, 3, 4, 5]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
import copy</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese = copy.deepcopy(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese[1] = 'Hello!'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[0, 1, 2,
3, 4, 5]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
cheese</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[0,
'Hello!', 2, 3, 4, 5]</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>The <span class=Literal>copy.deepcopy()</span> function
isn’t used in this chapter’s program, but it is helpful when you need to make a
duplicate list value to store in a different variable.</p>

<h2><a name="_Toc353630732">Practice Exercises, Chapter 10, Set A</a></h2>

<p class=MsoNormal>Practice exercises can be found at <span class=URL><u>http://invpy.com/hackingpractice10A</u></span>.</p>

<h2><a name="_Toc353630733">The </a><span class=Literal>random.shuffle()</span>
Function</h2>

<p class=MsoNormal>The <span class=Literal>random.shuffle()</span> function is
also in the <span class=Literal>random</span> module. It accepts a list
argument, and then randomly rearranges items in the list. Type the following
into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
import random</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[0, 1, 2,
3, 4, 5, 6, 7, 8, 9]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.shuffle(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[3, 0, 5,
9, 6, 8, 2, 4, 1, 7]</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.shuffle(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>[1, 2, 5,
9, 4, 7, 0, 3, 6, 8]</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>An important thing to note is that <span class=Literal>shuffle()</span>
<strong>does not return a list value</strong>. Instead, it changes the list
value that is passed to it (because <span class=Literal>shuffle()</span>
modifies the list directly from the list reference value it is passed.) We say
that the <span class=Literal>shuffle()</span> function modifies the list <span
class=Definition><span style='font-size:12.0pt;line-height:115%'>in-place</span></span>.
This is why we only need to execute <span class=Literal>random.shuffle(spam)</span>
instead of <span class=Literal>spam = random.shuffle(spam)</span>.</p>

<p class=MsoNormal>Remember that you can use the <span class=Literal>list()</span>
function to convert a string or range object to a list value. Type the
following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
import random</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs = list('Hello')</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['H', 'e',
'l', 'l', 'o']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.shuffle(eggs)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'> ['o',
'H', 'l', 'l', 'e']</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>And also remember you can use the <span class=Literal>join()</span>
string method to pass a list of strings and return a single string:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>['o', 'H',
'l', 'l', 'e']</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs = ''.join(eggs)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
eggs</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'oHlle'</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<h2><a name="_Toc353630734">Randomly Scrambling a String</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment>15.</span>        
<span class=SourceCodeComment># Convert the message string to a list to shuffle
it.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>16.</span>        
message = list(message)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>17.</span>        
random.shuffle(message)</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>18.</span>        
message = ''.join(message) <span class=SourceCodeComment># convert list to
string</span></p>

</div>

<p class=MsoNormal>In order to shuffle the characters in a string value, first
we convert the string to a list with <span class=Literal>list()</span>, then
shuffle the items in the list with <span class=Literal>shuffle()</span>, and
then convert back to string value with the <span class=Literal>join()</span>
string method. Try typing the following into the interactive shell:</p>

<div style='border:solid #404040 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeExcerptCxSpFirst style='border:none;padding:0in'>&gt;&gt;&gt;
import random</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam = 'Hello world!'</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam = list(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
random.shuffle(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam = ''.join(spam)</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>&gt;&gt;&gt;
spam</p>

<p class=SourceCodeExcerptCxSpMiddle style='border:none;padding:0in'>'wl
delHo!orl'</p>

<p class=SourceCodeExcerptCxSpLast style='border:none;padding:0in'>&gt;&gt;&gt;&nbsp;</p>

</div>

<p class=MsoNormal>We use this technique to scramble the letters in the <span
class=Literal>message</span> variable. This way we can test many different
messages just in case our transposition cipher can encrypt and decrypt some
messages but not others.</p>

<h2><a name="_Toc353630735">Back to the Code</a></h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeatured><span class=SourceCodeComment>20.</span>        
print('Test #%s: &quot;%s...&quot;' % (i+1, message[:50]))</p>

</div>

<p class=MsoNormal>Line 20 has a <span class=Literal>print()</span> call that
displays which test number we are on (we add one to <span class=Literal>i</span>
because <span class=Literal>i</span> starts at <span class=Literal>0</span> and
we want the test numbers to start at <span class=Literal>1</span>). Since the
string in <span class=Literal>message</span> can be very long, we use string
slicing to show only the first 50 characters of <span class=Literal>message</span>.</p>

<p class=MsoNormal>Line 20 uses string interpolation. The value that <span
class=Literal>i+1</span> evaluates to will replace the first <span
class=Literal>%s</span> in the string and the value that <span class=Literal>message[:50]</span>
evaluates to will replace the second <span class=Literal>%s</span>. When using
string interpolation, be sure the number of <span class=Literal>%s</span> in
the string matches the number of values that are in between the parentheses
after it.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment>22.</span>        
<span class=SourceCodeComment># Check all possible keys for each message.</span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>23.</span>        
for key in range(1, len(message)):</p>

</div>

<p class=MsoNormal>While the key for the Caesar cipher could be an integer from
<span class=Literal>0</span> to <span class=Literal>25</span>, the key for the
transposition cipher can be between <span class=Literal>1</span> and the length
of the message. We want to test every possible key for the test message, so the
<span class=Literal>for</span> loop on line 23 will run the test code with the
keys <span class=Literal>1</span> up to (but not including) the length of the message.
</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment>24.</span>            
encrypted = transpositionEncrypt.encryptMessage(key, message)</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>25.</span>            
decrypted = transpositionDecrypt.decryptMessage(key, encrypted)</p>

</div>

<p class=MsoNormal>Line 24 encrypts the string in <span class=Literal>message</span>
using our <span class=Literal>encryptMessage()</span> function. Since this
function is inside the <span class=Filename>transpositionEncrypt.py</span>
file, we need to add <span class=Literal>transpositionEncrypt.</span> (with the
period at the end) to the front of the function name.</p>

<p class=MsoNormal>The encrypted string that is returned from <span
class=Literal>encryptMessage()</span> is then passed to <span class=Literal>decryptMessage()</span>.
We use the same key for both function calls. The return value from <span
class=Literal>decryptMessage()</span> is stored in a variable named <span
class=Literal>decrypted</span>. If the functions worked, then the string in <span
class=Literal>message</span> should be the exact same as the string in <span
class=Literal>decrypted</span>.</p>

<h2><a name="_Toc353630736">The </a><span class=Literal>sys.exit()</span>
Function</h2>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment>27.</span>            
<span class=SourceCodeComment># If the decryption doesn't match the original
message, display</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>28.</span>            
<span class=SourceCodeComment># an error message and quit.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>29.</span>            
if message != decrypted:</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>30.</span>                
print('Mismatch with key %s and message %s.' % (key, message))</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>31.</span>                
print(decrypted)</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>32.</span>                
sys.exit()</p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>33. </span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>34.</span>    
print('Transposition cipher test passed.')</p>

</div>

<p class=MsoNormal>Line 29 tests if <span class=Literal>message</span> and <span
class=Literal>decrypted</span> are equal. If they aren’t, we want to display an
error message on the screen. We print the <span class=Literal>key</span>, <span
class=Literal>message</span>, and <span class=Literal>decrypted</span> values.
This information could help us figure out what happened. Then we will exit the
program.</p>

<p class=MsoNormal>Normally our programs exit once the execution reaches the
very bottom and there are no more lines to execute. However, we can make the
program exit sooner than that by calling the <span class=Literal>sys.exit()</span>
function. When <span class=Literal>sys.exit()</span> is called, the program
will immediately end.</p>

<p class=MsoNormal>But if the values in <span class=Literal>message</span> and <span
class=Literal>decrypted</span> are equal to each other, the program execution
skips the <span class=Literal>if</span> statement’s block and the call to <span
class=Literal>sys.exit()</span>. The next line is on line 34, but you can see
from its indentation that it is the first line after line 9’s <span
class=Literal>for</span> loop.</p>

<p class=MsoNormal>This means that after line 29’s <span class=Literal>if</span>
statement’s block, the program execution will jump back to line 23’s <span
class=Literal>for</span> loop for the next iteration of that loop. If it has
finished looping, then instead the execution jumps back to line 9’s <span
class=Literal>for</span> loop for the next iteration of that loop. And if it
has finished looping for that loop, then it continues on to line 34 to print
out the string <span class=Literal>'Transposition cipher test passed.'</span>.</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionTest.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceCodeComment>37.</span> <span
class=SourceCodeComment># If transpositionTest.py is run (instead of imported
as a module) call</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>38.</span> <span
class=SourceCodeComment># the main() function.</span></p>

<p class=SourceCodeFeaturedCxSpMiddle><span class=SourceCodeComment>39.</span>
if __name__ == '__main__':</p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceCodeComment>40.</span>    
main()</p>

</div>

<p class=MsoNormal>Here we do the trick of checking if the special variable <span
class=Literal>__name__</span> is set to <span class=Literal>'__main__'</span>
and if so, calling the <span class=Literal>main()</span> function. This way, if
another program imports <span class=Filename>transpositionTest.py</span>, the
code inside <span class=Literal>main()</span> will not be executed but the <span
class=Literal>def</span> statements that create the <span class=Literal>main()</span>
function will be.</p>

<h2><a name="_Toc353630737">Testing Our Test Program</a></h2>

<p class=MsoNormal>We’ve written a test program that tests our encryption
programs, but how do we know that the test program works? What if there is a
bug with our test program, and it is just saying that our transposition cipher
programs work when they really don’t?</p>

<p class=MsoNormal>We can test our test program by purposefully adding bugs to
our encryption or decryption functions. Then when we run the test program, if
it does not detect a problem with our cipher program, then we know that the
test program is not correctly testing our cipher programs.</p>

<p class=MsoNormal>Change <span class=Filename>transpositionEncrypt.py</span>’s
line 36 from this:</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionEncrypt.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>35.</span>            
<span class=SourceCodeComment># move pointer over</span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>36.</span>            
pointer += key</p>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>…to this:</p>

<div style='border:double #404040 1.5pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SourceCodeHeadline>transpositionEncrypt.py </p>

<p class=SourceCodeFeaturedCxSpFirst><span class=SourceLineNumber>35.</span>            
<span class=SourceCodeComment># move pointer over</span></p>

<p class=SourceCodeFeaturedCxSpLast><span class=SourceLineNumber>36.</span>            
pointer += key + 1</p>

</div>

<p class=MsoNormal>Now that the encryption code is broken, when we run the test
program it should give us an error:</p>

<div style='border:solid windowtext 1.0pt;padding:6.0pt 4.0pt 6.0pt 4.0pt'>

<p class=SampleRunCxSpFirst>Test #1: &quot;JEQLDFKJZWALCOYACUPLTRRMLWHOBXQNEAWSLGWAGQQSRSIUIQ...&quot;</p>

<p class=SampleRunCxSpMiddle>Mismatch with key 1 and message
JEQLDFKJZWALCOYACUPLTRRMLWHOBXQNEAWSLGWAGQQSRSIUIQTRGJHDVCZECRESZJARAVIPFOBWZXXTBFOFHVSIGBWIBBHGKUWHEUUDYONYTZVKNVVTYZPDDMIDKBHTYJAHBNDVJUZDCEMFMLUXEONCZXWAWGXZSFTMJNLJOKKIJXLWAPCQNYCIQOFTEAUHRJODKLGRIZSJBXQPBMQPPFGMVUZHKFWPGNMRYXROMSCEEXLUSCFHNELYPYKCNYTOUQGBFSRDDMVIGXNYPHVPQISTATKVKM.</p>

<p class=SampleRunCxSpLast>JQDKZACYCPTRLHBQEWLWGQRIITGHVZCEZAAIFBZXBOHSGWBHKWEUYNTVNVYPDIKHYABDJZCMMUENZWWXSTJLOKJLACNCQFEUROKGISBQBQPGVZKWGMYRMCELSFNLPKNTUGFRDVGNPVQSAKK</p>

</div>

<h2><a name="_Toc353630738">Summary</a></h2>

<p class=MsoNormal>We can use our programming skills for more than just writing
programs. We can also program the computer to test those programs to make sure
they work for different inputs. It is a common practice to write code to test
code.</p>

<p class=MsoNormal>This chapter covered a few new functions such as the <span
class=Literal>random.randint()</span> function for producing pseudorandom
numbers. Remember, pseudorandom numbers aren’t random enough for cryptography
programs, but they are good enough for this chapter’s testing program. The <span
class=Literal>random.shuffle()</span> function is useful for scrambling the
order of items in a list value.</p>

<p class=MsoNormal>The <span class=Literal>copy.deepcopy()</span> function will
create copies of list values instead of reference values. The difference
between a list and list reference is explained in this chapter as well.</p>

<p class=MsoNormal>All of our programs so far have only encrypted short
messages. In the next chapter, we will learn how to encrypt and decrypt entire
files on your hard drive.</p>

</div>

</body>

</html>
